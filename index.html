<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peter Guan</title>
    <link rel="icon" type="image/png" href="/assets/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Peter Guan" />
    <link rel="manifest" href="/assets/site.webmanifest" />
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/common.css">
</head>
<body>

<div id="nav-placeholder"></div>

<main class="main-content">
    <h1>Hi, I’m Peter Guan.</h1>
    <p>A developer and researcher passionate about Human-Computer Interaction and Web3.</p>
    <div class="action-links">
        <a href="/html/project.html" class="btn">See Projects</a>
        <a href="/html/about.html" class="btn btn-secondary">About me</a>
    </div>
</main>

<div id="footer-placeholder"></div>

<script>
    // 加载导航栏
    fetch('/html/nav.html')
        .then(res => res.text())
        .then(data => {
            document.getElementById('nav-placeholder').innerHTML = data;
        });

    // 加载页脚
    fetch('/html/footer.html')
        .then(res => res.text())
        .then(data => {
            document.getElementById('footer-placeholder').innerHTML = data;
        });
</script>

<script>
    // --- 更新后的导航栏激活状态处理脚本 ---
    document.addEventListener('DOMContentLoaded', function() {
        // 等待导航栏加载完毕
        setTimeout(() => {
            const currentPagePath = window.location.pathname;
            const navLinks = document.querySelectorAll('.nav-links a');

            navLinks.forEach(link => {
                const linkPath = new URL(link.href).pathname;

                if (currentPagePath === linkPath || (currentPagePath === '/' && linkPath === '/index.html')) {
                    link.classList.add('active');
                    link.setAttribute('aria-current', 'page');

                    // 当点击当前页面的导航链接时，平滑滚动到页面顶部
                    link.addEventListener('click', (event) => {
                        event.preventDefault(); // 阻止链接的默认刷新行为
                        window.scrollTo({
                            top: 0,
                            behavior: 'smooth'
                        });
                    });
                }
            });
        }, 100); // 延迟以确保 nav.html 加载完成
    });
</script>
</body>

</html>